{"ast":null,"code":"import React,{useState,useEffect}from'react';import io from'socket.io-client';import EmojiPicker from'./EmojiPicker';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io('http://localhost:4000');// Backend URL\nconst App=()=>{const[username,setUsername]=useState('');const[room,setRoom]=useState('');const[message,setMessage]=useState('');const[messages,setMessages]=useState([]);const[isChatting,setIsChatting]=useState(false);const[showEmojiPicker,setShowEmojiPicker]=useState(false);const joinRoom=()=>{if(username&&room){socket.emit('joinRoom',{username,room});setIsChatting(true);}};const sendMessage=()=>{if(message.trim()){socket.emit('chatMessage',{room,username,message});setMessage('');// Clear message input after sending\n}};useEffect(()=>{socket.on('message',msg=>{setMessages(prev=>[...prev,msg]);});return()=>{socket.off('message');};},[]);const handleEmojiSelect=emoji=>{setMessage(prev=>prev+emoji);setShowEmojiPicker(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:!isChatting?/*#__PURE__*/_jsxs(\"div\",{className:\"c\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Join a Chat Room\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your username\",value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter room number\",value:room,onChange:e=>setRoom(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:joinRoom,children:\"Join Room\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"h\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Chat Room: \",room]}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-container\",children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[msg.username,\":\"]}),\" \",msg]})},index))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter a message\",value:message,onChange:e=>setMessage(e.target.value),style:{marginRight:'10px',padding:'10px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,children:\"Send\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowEmojiPicker(prev=>!prev),children:\"\\uD83D\\uDE0A\"}),showEmojiPicker&&/*#__PURE__*/_jsx(EmojiPicker,{onSelect:handleEmojiSelect})]})});};export default App;","map":{"version":3,"names":["React","useState","useEffect","io","EmojiPicker","jsx","_jsx","jsxs","_jsxs","socket","App","username","setUsername","room","setRoom","message","setMessage","messages","setMessages","isChatting","setIsChatting","showEmojiPicker","setShowEmojiPicker","joinRoom","emit","sendMessage","trim","on","msg","prev","off","handleEmojiSelect","emoji","className","children","type","placeholder","value","onChange","e","target","onClick","map","index","style","marginRight","padding","onSelect"],"sources":["C:/Users/Mohan/OneDrive/Desktop/chatapp/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport EmojiPicker from './EmojiPicker';\nimport './App.css';\n\nconst socket = io('http://localhost:4000'); // Backend URL\n\nconst App = () => {\n  const [username, setUsername] = useState('');\n  const [room, setRoom] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [isChatting, setIsChatting] = useState(false);\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n\n  const joinRoom = () => {\n    if (username && room) {\n      socket.emit('joinRoom', { username, room });\n      setIsChatting(true);\n    }\n  };\n\n  const sendMessage = () => {\n    if (message.trim()) {\n      socket.emit('chatMessage', { room, username, message });\n      setMessage(''); // Clear message input after sending\n    }\n  };\n\n  useEffect(() => {\n    socket.on('message', (msg) => {\n      setMessages((prev) => [...prev, msg]);\n    });\n\n    return () => {\n      socket.off('message');\n    };\n  }, []);\n\n  const handleEmojiSelect = (emoji) => {\n    setMessage((prev) => prev + emoji);\n    setShowEmojiPicker(false);\n  };\n\n  return (\n    <div className=\"container\">\n      {!isChatting ? (\n        <div className=\"c\">\n          <h2>Join a Chat Room</h2>\n          <input\n            type=\"text\"\n            placeholder=\"Enter your username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Enter room number\"\n            value={room}\n            onChange={(e) => setRoom(e.target.value)}\n          />\n          <button onClick={joinRoom}>Join Room</button>\n        </div>\n      ) : (\n        <div className=\"h\">\n          <h2>Chat Room: {room}</h2>\n          <div className=\"chat-container\">\n            {messages.map((msg, index) => (\n              <div key={index} className=\"message\">\n                <p>\n                  <strong>{msg.username}:</strong> {msg}\n                </p>\n              </div>\n            ))}\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Enter a message\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            style={{ marginRight: '10px', padding: '10px' }}\n          />\n          <button onClick={sendMessage}>Send</button>\n          <button onClick={() => setShowEmojiPicker((prev) => !prev)}>ðŸ˜Š</button>\n          {showEmojiPicker && <EmojiPicker onSelect={handleEmojiSelect} />}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}